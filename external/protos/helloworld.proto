syntax = "proto3";

package helloworld;

message Int {
  int32 value = 1;
  Time ts = 2;
}

message PathNFlag {
  string path = 1;
  int32 flag = 2;
  Time ts = 3;
}

message Time {
  uint64 sec = 1;
  uint64 nsec = 2;
}

message Stat {
  Time atim = 1;
  Time mtim = 2;
  Time ctim = 3;
  uint64 size = 4;
}

message File {
  Stat stat = 1;
  bytes byte = 2;
}

service BasicRPC {
  rpc creat (PathNFlag) returns (Int) {}
  rpc mkdir (PathNFlag) returns (Int) {}
  rpc rm (PathNFlag) returns (Int) {}
  rpc rmdir (PathNFlag) returns (Int) {}
  rpc stat (PathNFlag) returns (Stat) {}
  rpc open (PathNFlag) returns (stream File) {}
  rpc close (stream File) returns (Int) {}
}

